<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add new data to an existing EM dataset — add_new_dat • SSMSE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add new data to an existing EM dataset — add_new_dat"><meta name="description" content="This should be used for the feedback loops when an EM is used."><meta property="og:description" content="This should be used for the feedback loops when an EM is used."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SSMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://nmfs-ost.github.io/SSMSE/manual" aria-label="User Manual">User Manual</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nmfs-ost/SSMSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add new data to an existing EM dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/nmfs-ost/SSMSE/blob/main/R/manipulate_EM.R" class="external-link"><code>R/manipulate_EM.R</code></a></small>
      <div class="d-none name"><code>add_new_dat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This should be used for the feedback loops when an EM is used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_new_dat</span><span class="op">(</span></span>
<span>  <span class="va">OM_dat</span>,</span>
<span>  <span class="va">EM_datfile</span>,</span>
<span>  <span class="va">sample_struct</span>,</span>
<span>  <span class="va">EM_dir</span>,</span>
<span>  <span class="va">nyrs_assess</span>,</span>
<span>  do_checks <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  new_datfile_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-om-dat">OM_dat<a class="anchor" aria-label="anchor" href="#arg-om-dat"></a></dt>
<dd><p>An valid SS3 data file read in using r4ss. In particular,
this should be sampled data.</p></dd>


<dt id="arg-em-datfile">EM_datfile<a class="anchor" aria-label="anchor" href="#arg-em-datfile"></a></dt>
<dd><p>Datafile name run in previous iterations with the EM.
Assumed to exist in EM_dir.</p></dd>


<dt id="arg-sample-struct">sample_struct<a class="anchor" aria-label="anchor" href="#arg-sample-struct"></a></dt>
<dd><p>A optional list including which years, seasons, and fleets
should be  added from the OM into the EM for different types of data.
If NULL, the data structure will try to be inferred from the pattern found
for each of the datatypes within the EM datafiles. Include this structure
for the number of years to extend the model out. Note that the data should
be specified using the list component names and column names as in would be
used in <code><a href="https://r4ss.github.io/r4ss/reference/SS_readdat.html" class="external-link">r4ss::SS_readdat()</a></code>. The <code>run_SSMSE_iter</code> function
examples give an example of what this structure should be. Running the
function <code><a href="create_sample_struct.html">create_sample_struct()</a></code> will also produce a sample_struct
object in the correct form. Can be NULL only when MS is not EM.</p></dd>


<dt id="arg-em-dir">EM_dir<a class="anchor" aria-label="anchor" href="#arg-em-dir"></a></dt>
<dd><p>Absolute or relative path to the Estimation model directory.</p></dd>


<dt id="arg-nyrs-assess">nyrs_assess<a class="anchor" aria-label="anchor" href="#arg-nyrs-assess"></a></dt>
<dd><p>The number of years between assessments. E.g., if an
assessment is conducted every 3 years, put 3 here. A single integer value.</p></dd>


<dt id="arg-do-checks">do_checks<a class="anchor" aria-label="anchor" href="#arg-do-checks"></a></dt>
<dd><p>Should checks on the data be performed? Defaults to TRUE.</p></dd>


<dt id="arg-new-datfile-name">new_datfile_name<a class="anchor" aria-label="anchor" href="#arg-new-datfile-name"></a></dt>
<dd><p>An optional name of a file to write the new datafile
to. If NULL, a new datafile will not be written.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Want verbose output? Defaults to FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A new SS3 datafile containing the data in EM_datfile with new data
from OM_dat appended</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Kathryn Doering</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kathryn Doering, Nathan Vaughan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

