<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extend the OM forward using next years' catch — update_OM • SSMSE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Extend the OM forward using next years' catch — update_OM"><meta name="description" content="Add the EM defined catch values for the next years."><meta property="og:description" content="Add the EM defined catch values for the next years."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SSMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://nmfs-ost.github.io/SSMSE/manual" aria-label="User Manual">User Manual</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nmfs-ost/SSMSE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extend the OM forward using next years' catch</h1>
      <small class="dont-index">Source: <a href="https://github.com/nmfs-ost/SSMSE/blob/main/R/extendOM.R" class="external-link"><code>R/extendOM.R</code></a></small>
      <div class="d-none name"><code>update_OM.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add the EM defined catch values for the next years.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">update_OM</span><span class="op">(</span></span>
<span>  <span class="va">OM_dir</span>,</span>
<span>  catch <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  harvest_rate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  catch_basis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  F_limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  EM_pars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  write_dat <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  impl_error <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_F_search_loops <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  tolerance_F_search <span class="op">=</span> <span class="fl">0.001</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-om-dir">OM_dir<a class="anchor" aria-label="anchor" href="#arg-om-dir"></a></dt>
<dd><p>The full path to the OM directory.</p></dd>


<dt id="arg-catch">catch<a class="anchor" aria-label="anchor" href="#arg-catch"></a></dt>
<dd><p>A dataframe of catch values and its associated information to
add to the OM. The column names are the same as in an SS3 data file (e.g.,
year,    season, fleet,    catch,    catch_se). Must input either a catch and/or a harvest rate
data frame. If both are input the catch will override harvest rate as the management unit
but harvest rate will be used as a starting guess for search.</p></dd>


<dt id="arg-harvest-rate">harvest_rate<a class="anchor" aria-label="anchor" href="#arg-harvest-rate"></a></dt>
<dd><p>A dataframe of harvest rate (F) values and associated information to
add to the OM. The column names are as in an SS3 datafile. If harvest rate is input without
a corresponding catch the OM will assume effort based management an use harvest rate directly
with implementation error added.</p></dd>


<dt id="arg-catch-basis">catch_basis<a class="anchor" aria-label="anchor" href="#arg-catch-basis"></a></dt>
<dd><p>data frame with columns year, seas, fleet, basis that specifies if catch
should reference retained biomass (1) or dead biomass (2). Any year/season/fleet not listed will assume
a value of 1 referencing retained biomass. Entering -99 for any of year, season, or fleet will
apply the basis across all values of that variable (i.e., a single row with -99, -99, -99, 1 would implement
retained biomass for all cases)</p></dd>


<dt id="arg-f-limit">F_limit<a class="anchor" aria-label="anchor" href="#arg-f-limit"></a></dt>
<dd><p>data frame with columns year, fleet, season, limit that specifies a maximum F
allowed in the OM or a negative value to specify a multiple of the historic maximum F. Any year/season/fleet
not listed will assume a value of 1.5. Entering -99 for any of year, season, or fleet will
apply the limit across all values of that variable (i.e., a single row with -99, -99, -99, -2 would implement
a cap of twice the historic maximum F for all cases)</p></dd>


<dt id="arg-em-pars">EM_pars<a class="anchor" aria-label="anchor" href="#arg-em-pars"></a></dt>
<dd><p>a dataframe of parameter value updates to modify OM</p></dd>


<dt id="arg-write-dat">write_dat<a class="anchor" aria-label="anchor" href="#arg-write-dat"></a></dt>
<dd><p>Should the datafile be overwritten? Defaults to TRUE.</p></dd>


<dt id="arg-impl-error">impl_error<a class="anchor" aria-label="anchor" href="#arg-impl-error"></a></dt>
<dd><p>The implementation error</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Want verbose output? Defaults to FALSE.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>A random seed so that reproducible results are possible.</p></dd>


<dt id="arg-n-f-search-loops">n_F_search_loops<a class="anchor" aria-label="anchor" href="#arg-n-f-search-loops"></a></dt>
<dd><p>Number of times to try to find an F that achieves the
catches input in the OM. Defaults to 20.</p></dd>


<dt id="arg-tolerance-f-search">tolerance_F_search<a class="anchor" aria-label="anchor" href="#arg-tolerance-f-search"></a></dt>
<dd><p>How far apart the input catch and achieved
catch can be in tried to find an F that achieves the catch input in the
OM. Defaults to 0.001.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A new dat list object (format as created by r4ss::SS_readdat) that
has been extended forward as if read in by r4ss function SS_readdat</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Kathryn Doering &amp; Nathan Vaughan</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kathryn Doering, Nathan Vaughan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

